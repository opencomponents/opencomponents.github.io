"use strict";(self.webpackChunkoc_website=self.webpackChunkoc_website||[]).push([[5182],{6622:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>i});const s=JSON.parse('{"id":"consumers/client-api","title":"OC Client API & Advanced Usage","description":"This page documents the JavaScript API exposed by the OC browser client and shows how to leverage advanced features such as global parameters, headers, custom templates and actions.","source":"@site/docs/consumers/client-api.md","sourceDirName":"consumers","slug":"/consumers/client-api","permalink":"/docs/consumers/client-api","draft":false,"unlisted":false,"editUrl":"https://github.com/opencomponents/opencomponents.github.io/tree/master/website/docs/consumers/client-api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"OC Client - Installation & Setup","permalink":"/docs/consumers/client-setup"},"next":{"title":"Rendering Lifecycle","permalink":"/docs/consumers/rendering-lifecycle"}}');var a=t(4848),r=t(8453);const o={sidebar_position:2},l="OC Client API & Advanced Usage",c={},i=[{value:"Core API methods",id:"core-api-methods",level:2},{value:"oc.addStylesToHead(styles)",id:"ocaddstylestoheadstyles",level:3},{value:"oc.build(options)",id:"ocbuildoptions",level:3},{value:"oc.ready(callback)",id:"ocreadycallback",level:3},{value:"oc.renderUnloadedComponents()",id:"ocrenderunloadedcomponents",level:3},{value:"oc.renderNestedComponent(element, callback)",id:"ocrendernestedcomponentelement-callback",level:3},{value:"oc.getData / oc.getAction",id:"ocgetdata--ocgetaction",level:3},{value:"Global configuration helpers",id:"global-configuration-helpers",level:2},{value:"Parameters &amp; Headers",id:"parameters--headers",level:3},{value:"Retry strategy",id:"retry-strategy",level:3},{value:"Registering additional templates",id:"registering-additional-templates",level:2},{value:"Complete in-browser example",id:"complete-in-browser-example",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"oc-client-api--advanced-usage",children:"OC Client API & Advanced Usage"})}),"\n",(0,a.jsx)(n.p,{children:"This page documents the JavaScript API exposed by the OC browser client and shows how to leverage advanced features such as global parameters, headers, custom templates and actions."}),"\n",(0,a.jsx)(n.h2,{id:"core-api-methods",children:"Core API methods"}),"\n",(0,a.jsx)(n.h3,{id:"ocaddstylestoheadstyles",children:"oc.addStylesToHead(styles)"}),"\n",(0,a.jsx)(n.p,{children:"Inject CSS into the page head."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'oc.addStylesToHead(".banner { background: teal; }");\n'})}),"\n",(0,a.jsx)(n.h3,{id:"ocbuildoptions",children:"oc.build(options)"}),"\n",(0,a.jsxs)(n.p,{children:["Return an ",(0,a.jsx)(n.code,{children:"<oc-component>"})," tag string you can inject in HTML."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'const html = oc.build({\n  baseUrl: "//registry.com",\n  name: "user-profile",\n  version: "~1.x.x",\n  parameters: { userId: 42 },\n});\n'})}),"\n",(0,a.jsx)(n.h3,{id:"ocreadycallback",children:"oc.ready(callback)"}),"\n",(0,a.jsx)(n.p,{children:"Execute code once the client has finished boot-strapping:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'oc.ready(function () {\n  console.log("Client ready");\n});\n'})}),"\n",(0,a.jsx)(n.h3,{id:"ocrenderunloadedcomponents",children:"oc.renderUnloadedComponents()"}),"\n",(0,a.jsx)(n.p,{children:"Scan the DOM for unloaded components and render them. Useful after injecting HTML dynamically."}),"\n",(0,a.jsx)(n.h3,{id:"ocrendernestedcomponentelement-callback",children:"oc.renderNestedComponent(element, callback)"}),"\n",(0,a.jsx)(n.p,{children:"Render a single component tag in isolation."}),"\n",(0,a.jsx)(n.h3,{id:"ocgetdata--ocgetaction",children:"oc.getData / oc.getAction"}),"\n",(0,a.jsx)(n.p,{children:"Fetch data or trigger an action without rendering:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'oc.getData(\n  {\n    baseUrl: "//registry.com",\n    name: "user-data",\n    version: "1.0.0",\n    parameters: { userId: 42 },\n  },\n  console.log\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"global-configuration-helpers",children:"Global configuration helpers"}),"\n",(0,a.jsx)(n.h3,{id:"parameters--headers",children:"Parameters & Headers"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'var oc = {\n  conf: {\n    globalParameters: { locale: "en-US" },\n    globalHeaders: function () {\n      return { Authorization: "Bearer " + getToken() };\n    },\n  },\n};\n'})}),"\n",(0,a.jsx)(n.h3,{id:"retry-strategy",children:"Retry strategy"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"var oc = { conf: { retryInterval: 3000, retryLimit: 5 } };\n"})}),"\n",(0,a.jsx)(n.h2,{id:"registering-additional-templates",children:"Registering additional templates"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'oc.registerTemplates([\n  {\n    type: "vue-template",\n    externals: [\n      {\n        global: "Vue",\n        url: "https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js",\n      },\n    ],\n  },\n]);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"complete-in-browser-example",children:"Complete in-browser example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<div id="dynamic"></div>\n\n<script>\n  oc.cmd.push(function (oc) {\n    const html = oc.build({\n      baseUrl: "//registry.com",\n      name: "hello-world",\n      version: "1.0.0",\n      parameters: { name: "John" },\n    });\n\n    document.getElementById("dynamic").innerHTML = html;\n    oc.renderUnloadedComponents();\n  });\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Continue reading:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/consumers/rendering-lifecycle",children:"Rendering Lifecycle"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/consumers/events-hooks",children:"Events & Hooks"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);